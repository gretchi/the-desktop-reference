# The ideal clock

理想的な置き時計を求めて


## 過去の反省

### 初代

- Positive
  - 明るく見やすい7セグメントLED
  - 高精度クォーツを使用しているのでズレにくい
  - 00ボタン搭載
  - 秒の点滅表示がある
  - 大音量アラーム
  - ハードウェアによる制御がされているという満足感
  - スタンドアロンで動作する

- Negative
  - 正面から見ると眩しい
  - バッテリー非搭載のため、電源が抜けると時刻の保持ができない
  - 外部ソースによる時刻補正ができない
  - 日時がわからない
  - サイズが大きい


#### 2代目

- Positive
  - RTCとバッテリー搭載により停電状態でも時刻保持が可能
  - NTPサーバと同期可能
  - メインCPUとWi-Fiモジュール(ESP8266)とRTCがそれぞれ独立している
    - 時刻機能がメインCPUとRTCに閉じており完結している
      - ネットワークの状態に左右されない
      - オフラインでも動作する
      - 起動が高速である
  - 明るさをセンサー搭載しているので輝度調整ができる(ソフト的に未実装)
  - 日時がわかる
f  - 秒表示
  - 二層基板カッコいい
  - OLEDキャラクターディスプレイ見やすいしモダンでカッコいい

- Negative
  - ESP側が定期で時刻を一方的に送りつけるだけなのでメインCPU側から制御信号を出すようなことはできない(ハードウェア的にはできる)
  - NTPサーバ、Wi-Fi接続情報が直接ファームウェアに書き込まれている
  - 文字が小さい
  - 回路図が残ってない

#### 3代目

- Positive
  - 天気など統合的な情報表示が可能
  - 日時の表示ができる
  - 秒表示
  - 視覚的な煩さを排除しつつもタイミングの取得に特化した秒点滅機能が実装されている
  - NTPサーバと同期可能
  - スマホからWi-Fi設定ができる
  - UTC表示対応
  - 実用的である

- Negative
  - ネットワーク接続が前提でありスタンドアロンで動作しない
  - 天気APIの仕様変更に追従しないといけない
  - 電源が側面から出ていて邪魔
  - リチウムイオンバッテリーが内蔵されている
  - Wi-Fiが不安定になり再起動を繰り返すことがある
  - ボタンが押しづらいので特定の画面のみを表示する機能は実装せず一定時間ごとに表示が切り替わる
  - キャラクターディスプレイが不安定
  - というか全体的に不安定
  - ソフトウェアの塊かつ有り物の組み合わせ感が強くて所有欲が満たされない

## 理想の時計

- 高速起動
- スタンドアロン動作
- 独立RTC
- 時刻保持用のバッテリー搭載
- ACアダプタ動作
- 業務用的な無骨で重厚感のあるデザイン
- 置いた際に安定するよう重りを入れる

### 時刻補正

- 内蔵ソース
  - RTC
  - 手動調整(簡易的な実装にとどめる)
    - 00ボタン

- 外部ソース
  - NTPまたはGPS

### 表示周り

- 視認性に特化した7セグメントLED
  - hh:mmとは別に一回り小さい7セグで秒表示したい
- 日付など時刻に特化したキャラクターディスプレイ
- 和暦も表示したい
- 秒のタイミング取得用のLED
- 自動輝度調整


### 操作

- 秒点滅ON/OFF切替
- Wi-Fi設定(文字種切替ボタンとの組み合わせ)
- ロータリエンコーダ

### 欲張り

- 電池駆動モード
- NTP, GPS両対応
- GPSをソースとする場合、NTPサーバ機能(たぶん実装しない方が良い)
- カレンダー
- 大電流対応アラームインタフェース





## ギャラリー

初代

![1-1](https://github.com/user-attachments/assets/5780f460-9cf2-429e-a1cc-bb3f518b5124)
![1-2](https://github.com/user-attachments/assets/eb70f070-004a-434f-a0b5-d23556f7eafa)

2代目

![2-1](https://github.com/user-attachments/assets/ce587424-94a1-4526-8b41-383fbaba0f52)
![2-2](https://github.com/user-attachments/assets/1a729784-678b-45c4-a4f2-7872dc0e460d)

3代目

![3-1](https://github.com/user-attachments/assets/fcbe6f4e-287e-4fc1-8dc0-9b5a6e69e634)
